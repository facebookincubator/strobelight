# CUDA Trace Analysis Tool

This tool analyzes CUDA trace files generated by BPF programs, providing detailed insights through visualizations and LLM-based analysis.

## Installation

```bash
pip install -r requirements.txt
```

## Usage

```bash
# Basic usage
python enhanced_cuda_trace_analysis.py /path/to/trace.out --output_dir ./output_directory --llm_mode mock

# With OpenAI API for enhanced analysis
python enhanced_cuda_trace_analysis.py /path/to/trace.out --output_dir ./output_directory --llm_mode openai --api_key YOUR_API_KEY
```

## Command Line Options

- `trace_file`: Path to the CUDA trace file (required)
- `--output_dir`: Output directory for analysis results (default: ./cuda_analysis_results)
- `--llm_mode`: LLM analysis mode (choices: mock, openai, local; default: mock)
- `--api_key`: OpenAI API key (required for openai mode)
- `--model_endpoint`: Local LLM API endpoint (for local mode; default: http://localhost:8000/v1/chat/completions)
- `--skip_parsing`: Skip trace file parsing (use existing parsed data)
- `--skip_analysis`: Skip trace data analysis (use existing analysis results)
- `--skip_visualization`: Skip visualization enhancement (use existing enhanced visualizations)
- `--test_llm`: Test LLM analysis using the testing framework

## Output

The tool generates the following outputs in the specified output directory:
- Parsed trace data (JSON)
- Analysis results (JSON)
- Visualizations (PNG)
- Enhanced visualizations and dashboard
- LLM analysis reports (Markdown)
- HTML report with integrated visualizations and analysis
- Final summary report (Markdown)

## Components

- `cuda_trace_parser.py`: Parses CUDA trace files into structured data
- `cuda_trace_analyzer.py`: Analyzes trace data and generates visualizations
- `cuda_visualization_organizer.py`: Enhances visualizations and creates dashboard
- `enhanced_cuda_llm_analyzer.py`: Performs LLM-based analysis of trace data
- `enhanced_cuda_trace_analysis.py`: Main program integrating all components
- `cuda_prompt_templates.py`: Templates for LLM prompts
- `cuda_llm_analysis_tester.py`: Testing framework for LLM analysis
